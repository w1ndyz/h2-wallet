[{"/Users/windy/wallet/h2-wallet/src/App.js":"1","/Users/windy/wallet/h2-wallet/src/view/login/login.js":"2","/Users/windy/wallet/h2-wallet/src/index.js":"3","/Users/windy/wallet/h2-wallet/src/service/service.js":"4","/Users/windy/wallet/h2-wallet/src/view/login/tab_private.js":"5","/Users/windy/wallet/h2-wallet/src/view/login/tab_mnemonic.js":"6","/Users/windy/wallet/h2-wallet/src/view/login/tab_keystore.js":"7","/Users/windy/wallet/h2-wallet/src/view/wallet/wallet.js":"8","/Users/windy/wallet/h2-wallet/src/reportWebVitals.js":"9"},{"size":967,"mtime":1610043426450,"results":"10","hashOfConfig":"11"},{"size":1094,"mtime":1610040389163,"results":"12","hashOfConfig":"11"},{"size":452,"mtime":1610046908164,"results":"13","hashOfConfig":"11"},{"size":2935,"mtime":1610046054057,"results":"14","hashOfConfig":"11"},{"size":1711,"mtime":1610049130570,"results":"15","hashOfConfig":"11"},{"size":1646,"mtime":1610047527303,"results":"16","hashOfConfig":"11"},{"size":1804,"mtime":1610049114525,"results":"17","hashOfConfig":"11"},{"size":8461,"mtime":1610049519399,"results":"18","hashOfConfig":"11"},{"size":362,"mtime":1610028397073,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1ign23x",{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"26","messages":"27","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28"},{"filePath":"29","messages":"30","errorCount":2,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":1,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/windy/wallet/h2-wallet/src/App.js",[],"/Users/windy/wallet/h2-wallet/src/view/login/login.js",[],"/Users/windy/wallet/h2-wallet/src/index.js",["40"],"/Users/windy/wallet/h2-wallet/src/service/service.js",["41","42","43","44","45","46","47","48","49","50"],"import {BlockTag, Provider, TransactionRequest, TransactionResponse} from \"ethers/providers\";\nimport {Arrayish, BigNumber, ProgressCallback} from \"ethers/utils\";\n\nlet ethers = require('ethers')\n// import ethers from 'ethers'\n\n// 默认路径\nconst PATH_PREFIX = \"m/44'/60'/0'/0/\"\n\n// 私钥校验\nfunction checkPrivate(key) {\n    if (key === '') {\n        return \"不能为空\"\n    }\n    if (key.length != 66 && key.length != 64) {\n        return false, \"秘钥长度必须为66或者64\"\n    }\n    if (!key.match(/^(0x)?([0-9A-fa-f]{64})+$/)) {\n        return \"秘钥为16进制表示[0-9A-fa-f]\"\n    }\n    return \"\"\n}\n\n// 地址校验\nfunction checkAddress(address) {\n    try {\n        let realAddress =ethers.utils.getAddress(address)\n        console.log(\"realaddress\",realAddress)\n        return realAddress\n    }catch (e) {\n        return \"\"\n    }\n\n}\n\n// 随机私钥\nfunction newRandomKey() {\n    let randomByte = ethers.utils.randomBytes(32)\n    let randomNumber = ethers.utils.bigNumberify(randomByte);\n    return randomNumber.toHexString()\n}\n\n// 通过私钥创建钱包\nfunction newWalletFromPrivateKey(privateKey) {\n    let wallets = []\n    let wallet = new ethers.Wallet(privateKey)\n    wallets.push(wallet)\n    return wallets\n}\n\n// 通过助记词创建钱包\nfunction newWalletFromMmic(mmic, path) {\n    console.log('1111', mmic, path)\n    let wallets = []\n    for (let i = 0; i < 10; i++) {\n        path = PATH_PREFIX + i\n        let wallet = ethers.Wallet.fromMnemonic(mmic, path)\n        wallets.push(wallet)\n        console.log(i, wallets)\n    }\n    return wallets\n}\n\n// 随机创建钱包\nfunction newRandomWallet() {\n    let wallets = []\n    let wallet = ethers.Wallet.createRandom()\n    wallets.push(wallet)\n    return wallets\n}\n\n// 校验地址\nfunction checkJsonWallet(data) {\n    return ethers.utils.getJsonWalletAddress(data)\n}\n\n// 从keystore导入钱包，需要密码\nfunction newWalletFromJson(json, pwd) {\n\n    return new Promise(async (resolve, reject) => {\n        try {\n            let wallets = []\n            let wallet = await ethers.Wallet.fromEncryptedJson(json, pwd, false)\n            wallets.push(wallet)\n            resolve(wallets)\n        } catch (e) {\n            reject(e)\n        }\n    })\n}\n\n// 生成助记词\nfunction genMmic() {\n    let words = ethers.utils.HDNode.entropyToMnemonic(ethers.utils.randomBytes(16));\n    return words\n}\n\n// 连接provider\nfunction connectWallet(wallet, providerurl) {\n    let provider = new ethers.providers.JsonRpcProvider(providerurl);\n    return wallet.connect(provider);\n}\n\n// 发送交易\nfunction sendTransaction(wallet,to,value) {\n    return wallet.sendTransaction({\n        to: to,\n        value: value,\n    })\n}\n\nexport {\n    checkPrivate,\n    checkAddress,\n    newRandomKey,\n    newWalletFromPrivateKey,\n    newWalletFromMmic,\n    newRandomWallet,\n    genMmic,\n    newWalletFromJson,\n    checkJsonWallet,\n    connectWallet,\n    sendTransaction,\n}","/Users/windy/wallet/h2-wallet/src/view/login/tab_private.js",["51","52","53"],"import { Button, Form, Input } from 'antd'\nimport React, {Component} from 'react'\nimport PubSub from 'pubsub-js'\n\nimport { LockOutlined, DownloadOutlined } from '@ant-design/icons';\n\nlet service = require('../../service/service')\n\nexport default class PrivateLogin extends Component {\n  \n  state = {\n    privateKey: \"\",\n  }\n\n  handleCreateClick = () => {\n      let privateKey = service.newRandomKey()\n      this.setState({privateKey})\n  }\n\n  handleChange = (e) => {\n      this.setState({[e.target.name]: e.target.value})\n  }\n\n  onPrivateLoginClick = () => {\n      let key = this.state.privateKey\n      let err = service.checkPrivate(key)\n      if (err !== \"\") {\n        message.error(err)\n        return;\n      }\n      if (key.substring(0, 2).toLowerCase() !== '0x') {\n        key = '0x' + key;\n      }\n      console.log(\"开始创建钱包\", key)\n      let wallets = service.newWalletFromPrivateKey(key)\n      if (wallets) {\n        PubSub.publish(\"onLoginSucc\", wallets)\n      } else {\n        message.error(\"导入出错\")\n      }\n  }\n\n  render() {\n    return (\n      <Form size=\"large\">\n        <Form.Item>\n          <Input \n            prefix={<LockOutlined />}\n            placeholder=\"private key\"\n            value={this.state.privateKey}\n            name=\"privateKey\"\n            onChange={this.handleChange}\n          />\n        </Form.Item>\n        <Form.Item>\n          <a href='#' onClick={this.handleCreateClick}>随机生成</a>\n        </Form.Item>\n        <br/>\n        <br/>\n        <br/>\n        <Button\n          icon={<DownloadOutlined />}\n          type=\"primary\" size='large'\n          onClick={this.onPrivateLoginClick}>\n          私钥导入\n        </Button>\n      </Form>\n    )\n  }\n}","/Users/windy/wallet/h2-wallet/src/view/login/tab_mnemonic.js",["54"],"/Users/windy/wallet/h2-wallet/src/view/login/tab_keystore.js",["55","56"],"/Users/windy/wallet/h2-wallet/src/view/wallet/wallet.js",["57","58","59","60"],"/Users/windy/wallet/h2-wallet/src/reportWebVitals.js",[],{"ruleId":"61","severity":2,"message":"62","line":12,"column":1,"nodeType":"63","messageId":"64","endLine":12,"endColumn":16},{"ruleId":"65","severity":1,"message":"66","line":1,"column":9,"nodeType":"63","messageId":"67","endLine":1,"endColumn":17},{"ruleId":"65","severity":1,"message":"68","line":1,"column":19,"nodeType":"63","messageId":"67","endLine":1,"endColumn":27},{"ruleId":"65","severity":1,"message":"69","line":1,"column":29,"nodeType":"63","messageId":"67","endLine":1,"endColumn":47},{"ruleId":"65","severity":1,"message":"70","line":1,"column":49,"nodeType":"63","messageId":"67","endLine":1,"endColumn":68},{"ruleId":"65","severity":1,"message":"71","line":2,"column":9,"nodeType":"63","messageId":"67","endLine":2,"endColumn":17},{"ruleId":"65","severity":1,"message":"72","line":2,"column":19,"nodeType":"63","messageId":"67","endLine":2,"endColumn":28},{"ruleId":"65","severity":1,"message":"73","line":2,"column":30,"nodeType":"63","messageId":"67","endLine":2,"endColumn":46},{"ruleId":"74","severity":1,"message":"75","line":15,"column":20,"nodeType":"76","messageId":"77","endLine":15,"endColumn":22},{"ruleId":"74","severity":1,"message":"75","line":15,"column":40,"nodeType":"76","messageId":"77","endLine":15,"endColumn":42},{"ruleId":"78","severity":1,"message":"79","line":16,"column":21,"nodeType":"80","messageId":"81","endLine":16,"endColumn":22},{"ruleId":"61","severity":2,"message":"82","line":28,"column":9,"nodeType":"63","messageId":"64","endLine":28,"endColumn":16},{"ruleId":"61","severity":2,"message":"82","line":39,"column":9,"nodeType":"63","messageId":"64","endLine":39,"endColumn":16},{"ruleId":"83","severity":1,"message":"84","line":56,"column":11,"nodeType":"85","endLine":56,"endColumn":56},{"ruleId":"83","severity":1,"message":"86","line":59,"column":11,"nodeType":"85","endLine":59,"endColumn":43},{"ruleId":"74","severity":1,"message":"87","line":26,"column":19,"nodeType":"76","messageId":"77","endLine":26,"endColumn":21},{"ruleId":"61","severity":2,"message":"82","line":36,"column":11,"nodeType":"63","messageId":"64","endLine":36,"endColumn":18},{"ruleId":"74","severity":1,"message":"87","line":47,"column":52,"nodeType":"76","messageId":"77","endLine":47,"endColumn":54},{"ruleId":"74","severity":1,"message":"87","line":52,"column":35,"nodeType":"76","messageId":"77","endLine":52,"endColumn":37},{"ruleId":"74","severity":1,"message":"87","line":89,"column":15,"nodeType":"76","messageId":"77","endLine":89,"endColumn":17},{"ruleId":"74","severity":1,"message":"87","line":152,"column":23,"nodeType":"76","messageId":"77","endLine":152,"endColumn":25},"no-undef","'reportWebVitals' is not defined.","Identifier","undef","no-unused-vars","'BlockTag' is defined but never used.","unusedVar","'Provider' is defined but never used.","'TransactionRequest' is defined but never used.","'TransactionResponse' is defined but never used.","'Arrayish' is defined but never used.","'BigNumber' is defined but never used.","'ProgressCallback' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","'message' is not defined.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","Expected '===' and instead saw '=='."]